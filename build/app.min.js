var app = angular.module('notif', []);

var apiUrl = 'https://shoutout.hackgt.com';

app.controller('AppController', function($scope, $http, $timeout) {
  var getNotifications = function() {
    $http.get(apiUrl + '/api/notifications', {})
      .then(
        function(res) {
          $scope.notifs = res.data;
          checkRecent();
        },
        function(err) {
          console.error(err);
        }
      );
  };

  var checkRecent = function() {
    $http.get(apiUrl + '/api/notifications/recent', {})
      .then(
        function(res) {
          if (res.data._id != $scope.notifs[0]._id) {
            $scope.notifs.unshift(res.data);
          }
        },
        function(err) {
          console.error(err);
        }
      );

    $timeout(function(){
      checkRecent();
    },15000);
  }
  getNotifications();
});


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbm90aWYnLCBbXSk7XG5cbmFwcC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQpIHtcbiAgdmFyIGdldE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAkaHR0cC5nZXQoJy9hcGkvbm90aWZpY2F0aW9ucycsIHt9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICRzY29wZS5ub3RpZnMgPSByZXMuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgZ2V0Tm90aWZpY2F0aW9ucygpO1xuICAgICAgfSw1MDAwKTtcbiAgfTtcbiAgZ2V0Tm90aWZpY2F0aW9ucygpO1xufSk7XG5cbmFwcC5jb250cm9sbGVyKCdDb25zb2xlQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcbiAgJHNjb3BlLnRpdGxlID0gIFwiTm90aWZpY2F0aW9ucyBDb25zb2xlXCI7XG4gICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygkc2NvcGUubm90aWYpO1xuICAgICRodHRwLnBvc3QoJy9hcGkvbm90aWZpY2F0aW9ucycsICRzY29wZS5ub3RpZilcbiAgICAgIC50aGVuKFxuICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICBhbGVydCgnTm90aWZpY2F0aW9uIGhhcyBiZWVuIHNlbnQgdG8gdGhlIHBlb3BsZSEnKTtcbiAgICAgICAgICAkc2NvcGUubm90aWYgPSB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IsIGNoZWNrIGNvbnNvbGUnKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgfTtcbn0pO1xuXG5hcHAuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHdpbmRvdykge1xuICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAkaHR0cC5wb3N0KCcvYXBpL2xvZ2luJywgJHNjb3BlLnVzZXIpXG4gICAgICAgIC50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWwgbG9naW4nKTtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvY29uc29sZSc7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gIH07XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
